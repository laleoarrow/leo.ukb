% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/dignosis_icd_fo.R
\name{dignosis_process_fo}
\alias{dignosis_process_fo}
\title{Process first occurrence (FO) data in UKB ----}
\usage{
dignosis_process_fo(
  data,
  fo_date_col,
  censored = "2025-01-01",
  base_line = "p53_i0",
  filter_NA = T
)
}
\arguments{
\item{data}{Dataframe with UKB baseline / FO / death dates.}

\item{fo_date_col}{Column name (string) of first occurrence date to use.}

\item{censored}{Censoring date (character, "YYYY-MM-DD").}

\item{filter_NA}{Logical, whether to filter out rows with NA in the resulting status/time columns. Default TRUE.}
}
\value{
Dataframe with eid, {disease_prefix}_status, {disease_prefix}_time.
}
\description{
Processes UK Biobank first occurrence data for survival analysis, handling abnormal dates,
censoring, and generating status/time variables.
}
\examples{
# Simulated UKB data
ukb_df <- tibble::tibble(
  eid = 1:6,
  p53_i0 = as.Date(c("2006-01-01", "2007-05-15", "2008-03-20", "2009-07-30", "2010-11-11", "2011-12-25")),
  p191 = as.Date(c("2020-01-01", "2021-06-15", NA, "2022-03-20", "2023-07-30", "2024-11-11")),
  p40000_i0 = as.Date(c(NA, "2022-05-05", "2023-08-08", NA, "2024-09-09", NA)),
  p40000_i1 = as.Date(c("2023-01-01", NA, NA, "2024-04-04", NA, "2025-12-12")),
  p20002_0_0 = as.Date(c("2015-01-01", "2016-02-02", "1900-01-01", NA, "2018-03-03", "2019-04-04"))
)
dignosis_process_fo(ukb_df, "p20002_0_0", censored = "2025-01-01") # This is the results.
}
